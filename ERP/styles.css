/* ERP Common Styles */
:root {
    --primary: #2563EB;
    --primary-dark: #1D4ED8;
    --success: #10B981;
    --warning: #F59E0B;
    --danger: #EF4444;
    --info: #3B82F6;
    --gray-50: #F9FAFB;
    --gray-100: #F3F4F6;
    --gray-200: #E5E7EB;
    --gray-300: #D1D5DB;
    --gray-400: #9CA3AF;
    --gray-500: #6B7280;
    --gray-700: #374151;
    --gray-900: #111827;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--gray-50); font-size: 14px; color: var(--gray-900); }

/* Header */
.header { background: #fff; border-bottom: 1px solid var(--gray-200); padding: 0.75rem 1.5rem; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; }
.logo { font-size: 1.1rem; font-weight: 700; color: var(--primary); cursor: pointer; display: flex; align-items: center; gap: 0.5rem; }
.header-right { display: flex; gap: 0.75rem; align-items: center; }
.icon-btn { background: none; border: none; font-size: 1.25rem; cursor: pointer; padding: 0.25rem; border-radius: 4px; transition: background 0.2s; }
.icon-btn:hover { background: var(--gray-100); }
.badge { position: absolute; top: -4px; right: -4px; background: var(--danger); color: #fff; border-radius: 50%; width: 16px; height: 16px; font-size: 10px; display: flex; align-items: center; justify-content: center; }

/* Navigation */
.nav { background: #fff; border-right: 1px solid var(--gray-200); padding: 1rem 0; display: flex; flex-direction: column; gap: 0.25rem; overflow-y: auto; position: fixed; left: 0; top: 0; bottom: 0; width: 200px; z-index: 99; }
.nav::-webkit-scrollbar { width: 4px; }
.nav::-webkit-scrollbar-thumb { background: var(--gray-300); border-radius: 2px; }
.nav a { text-decoration: none; color: var(--gray-500); padding: 0.75rem 1.5rem; border-left: 3px solid transparent; white-space: nowrap; font-size: 0.875rem; transition: all 0.2s; display: block; }
.nav a:hover { color: var(--primary); background: var(--gray-50); }
.nav a.active { color: var(--primary); border-left-color: var(--primary); font-weight: 600; background: rgba(37, 99, 235, 0.05); }

/* Main */
.main { padding: 1.25rem 1.5rem; max-width: 1600px; margin: 0 auto; margin-left: 200px; }
.page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.25rem; gap: 1rem; flex-wrap: wrap; }
.page-title { font-size: 1.25rem; font-weight: 700; display: flex; align-items: center; gap: 0.5rem; }

/* Buttons */
.btn { padding: 0.5rem 1rem; border: none; border-radius: 6px; cursor: pointer; font-size: 0.8125rem; font-weight: 600; transition: all 0.2s; display: inline-flex; align-items: center; gap: 0.375rem; }
.btn:hover { transform: translateY(-1px); }
.btn-primary { background: var(--primary); color: #fff; }
.btn-primary:hover { background: var(--primary-dark); }
.btn-secondary { background: var(--gray-500); color: #fff; }
.btn-success { background: var(--success); color: #fff; }
.btn-sm { padding: 0.375rem 0.75rem; font-size: 0.75rem; }

/* Cards */
.card { background: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
.card-header { padding: 1rem 1.25rem; border-bottom: 1px solid var(--gray-200); display: flex; justify-content: space-between; align-items: center; }
.card-title { font-weight: 600; font-size: 0.9375rem; }
.card-body { padding: 1.25rem; }

/* Search & Filters */
.search-box { background: #fff; padding: 1rem 1.25rem; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); margin-bottom: 1rem; }
.search-row { display: flex; gap: 0.75rem; flex-wrap: wrap; align-items: center; }
.search-input { flex: 1; min-width: 200px; padding: 0.5rem 0.75rem; border: 1px solid var(--gray-200); border-radius: 6px; font-size: 0.875rem; }
.search-input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37,99,235,0.1); }
.filter-select { padding: 0.5rem 0.75rem; border: 1px solid var(--gray-200); border-radius: 6px; font-size: 0.8125rem; background: #fff; width: 150px; }

/* Summary */
.summary-box { background: rgba(37, 99, 235, 0.08); color: var(--gray-900); padding: 0.75rem 1rem; border-radius: 8px; margin-bottom: 1rem; display: flex; flex-wrap: wrap; gap: 1.5rem; font-size: 0.875rem; border: 1px solid rgba(37, 99, 235, 0.15); }
.summary-item { display: flex; align-items: center; gap: 0.375rem; }
.summary-item strong { font-weight: 700; }

/* Tables */
.table-container { background: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); overflow: hidden; }
table { width: 100%; border-collapse: collapse; }
th { background: var(--gray-50); padding: 0.75rem 1rem; text-align: left; font-weight: 600; color: var(--gray-500); font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.025em; border-bottom: 1px solid var(--gray-200); }
td { padding: 0.75rem 1rem; border-bottom: 1px solid var(--gray-100); font-size: 0.875rem; }
tr:hover { background: var(--gray-50); }
tr:last-child td { border-bottom: none; }
.btn-link { color: var(--primary); text-decoration: none; font-size: 0.8125rem; font-weight: 500; }
.btn-link:hover { text-decoration: underline; }

/* Status Badges */
.status-badge { padding: 0.25rem 0.625rem; border-radius: 9999px; font-size: 0.6875rem; font-weight: 600; display: inline-flex; align-items: center; gap: 0.25rem; }
.status-ok, .status-active { background: #D1FAE5; color: #065F46; }
.status-warning { background: #FEF3C7; color: #92400E; }
.status-danger, .status-reported { background: #FEE2E2; color: #991B1B; }
.status-pending { background: #FEF3C7; color: #92400E; }
.status-approved { background: #DBEAFE; color: #1E40AF; }
.status-complete { background: #F3F4F6; color: #6B7280; }
.status-inactive { background: #F3F4F6; color: #6B7280; }

/* Progress */
.progress-bar { height: 6px; background: var(--gray-200); border-radius: 3px; overflow: hidden; }
.progress-fill { height: 100%; background: var(--success); transition: width 0.3s; }
.progress-fill.medium { background: var(--warning); }
.progress-fill.low { background: var(--danger); }

/* KPI Cards */
.kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 1rem; margin-bottom: 1.25rem; }
.kpi-card { background: #fff; padding: 1rem 1.25rem; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); cursor: pointer; transition: all 0.2s; border-left: 3px solid var(--primary); }
.kpi-card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.kpi-card.warning { border-left-color: var(--warning); }
.kpi-card.danger { border-left-color: var(--danger); }
.kpi-label { color: var(--gray-500); font-size: 0.75rem; margin-bottom: 0.25rem; }
.kpi-value { font-size: 1.5rem; font-weight: 700; color: var(--gray-900); }
.kpi-change { font-size: 0.75rem; color: var(--success); margin-top: 0.25rem; }
.kpi-change.down { color: var(--danger); }

/* Modals */
.modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; backdrop-filter: blur(2px); }
.modal.active { display: flex; align-items: center; justify-content: center; padding: 1rem; }
.modal-content { background: #fff; border-radius: 12px; max-width: 600px; width: 100%; max-height: calc(100vh - 2rem); overflow-y: auto; }
.modal-content.lg { max-width: 800px; }
.modal-content.xl { max-width: 1200px; }
.modal-header { padding: 1rem 1.25rem; border-bottom: 1px solid var(--gray-200); display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; background: #fff; border-radius: 12px 12px 0 0; }
.modal-title { font-size: 1.125rem; font-weight: 700; }
.close-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--gray-500); line-height: 1; }
.close-btn:hover { color: var(--gray-900); }
.modal-body { padding: 1.25rem; }
.modal-footer { padding: 1rem 1.25rem; border-top: 1px solid var(--gray-200); display: flex; gap: 0.75rem; justify-content: flex-end; }

/* Forms */
.form-group { margin-bottom: 1rem; }
.form-label { display: block; margin-bottom: 0.375rem; font-weight: 600; color: var(--gray-700); font-size: 0.8125rem; }
.form-input, .form-select, .form-textarea { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid var(--gray-200); border-radius: 6px; font-size: 0.875rem; transition: all 0.2s; }
.form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37,99,235,0.1); }
.form-textarea { min-height: 80px; resize: vertical; }
.form-row { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
.form-hint { font-size: 0.75rem; color: var(--gray-500); margin-top: 0.25rem; }

/* Info Box */
.info-box { background: var(--gray-50); padding: 1rem; border-radius: 6px; margin-bottom: 1rem; }
.info-box.highlight { background: #EFF6FF; border: 1px solid #BFDBFE; }
.info-row { display: flex; justify-content: space-between; padding: 0.375rem 0; font-size: 0.875rem; }
.info-row:not(:last-child) { border-bottom: 1px solid var(--gray-200); }
.info-label { color: var(--gray-500); }

/* Tabs */
.tabs { display: flex; gap: 0.25rem; border-bottom: 1px solid var(--gray-200); margin-bottom: 1rem; }
.tab { padding: 0.625rem 1rem; background: none; border: none; cursor: pointer; color: var(--gray-500); font-size: 0.875rem; border-bottom: 2px solid transparent; transition: all 0.2s; }
.tab:hover { color: var(--primary); }
.tab.active { color: var(--primary); border-bottom-color: var(--primary); font-weight: 600; }

/* Stepper */
.stepper { display: flex; justify-content: center; margin-bottom: 1.5rem; gap: 0; }
.step { flex: 1; text-align: center; position: relative; max-width: 200px; }
.step::after { content: ''; position: absolute; top: 12px; left: 50%; width: 100%; height: 2px; background: var(--gray-200); }
.step:last-child::after { display: none; }
.step-circle { width: 24px; height: 24px; border-radius: 50%; background: var(--gray-200); color: var(--gray-500); display: inline-flex; align-items: center; justify-content: center; font-size: 0.75rem; font-weight: 600; margin-bottom: 0.375rem; position: relative; z-index: 1; }
.step.active .step-circle { background: var(--primary); color: #fff; }
.step.complete .step-circle { background: var(--success); color: #fff; }
.step-label { font-size: 0.75rem; color: var(--gray-500); }
.step.active .step-label { color: var(--primary); font-weight: 600; }

/* Pagination */
.pagination { display: flex; justify-content: center; align-items: center; gap: 0.25rem; padding: 1rem; }
.page-btn { padding: 0.375rem 0.625rem; border: 1px solid var(--gray-200); background: #fff; cursor: pointer; border-radius: 4px; font-size: 0.8125rem; transition: all 0.2s; }
.page-btn:hover { background: var(--gray-50); }
.page-btn.active { background: var(--primary); color: #fff; border-color: var(--primary); }

/* Widgets */
.widget-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; }
.widget { background: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
.widget-header { padding: 0.875rem 1rem; border-bottom: 1px solid var(--gray-200); display: flex; justify-content: space-between; align-items: center; }
.widget-title { font-weight: 600; font-size: 0.875rem; }
.widget-link { color: var(--primary); font-size: 0.75rem; text-decoration: none; }
.widget-body { padding: 1rem; }

/* Chart */
.chart-bar { display: flex; align-items: flex-end; gap: 0.5rem; height: 160px; padding: 0.5rem 0; }
.bar { flex: 1; background: var(--primary); border-radius: 4px 4px 0 0; position: relative; min-width: 30px; transition: all 0.3s; }
.bar:hover { background: var(--primary-dark); }
.bar-label { position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%); font-size: 0.6875rem; color: var(--gray-500); white-space: nowrap; }
.bar-value { position: absolute; top: -18px; left: 50%; transform: translateX(-50%); font-size: 0.6875rem; font-weight: 600; }

/* Notifications */
.notification { padding: 0.75rem 1rem; border-left: 3px solid var(--primary); background: var(--gray-50); margin-bottom: 0.5rem; border-radius: 0 4px 4px 0; }
.notification.warning { border-left-color: var(--warning); }
.notification-text { font-size: 0.8125rem; color: var(--gray-900); margin-bottom: 0.125rem; }
.notification-time { font-size: 0.6875rem; color: var(--gray-500); }

/* Timeline */
.timeline { position: relative; padding-left: 1.5rem; }
.timeline-item { position: relative; padding-bottom: 1rem; }
.timeline-item::before { content: ''; position: absolute; left: -1.5rem; top: 2px; width: 10px; height: 10px; border-radius: 50%; background: var(--success); }
.timeline-item::after { content: ''; position: absolute; left: calc(-1.5rem + 4px); top: 12px; width: 2px; height: calc(100% - 12px); background: var(--gray-200); }
.timeline-item:last-child::after { display: none; }
.timeline-item.pending::before { background: var(--gray-300); }
.timeline-time { font-size: 0.75rem; color: var(--gray-500); }
.timeline-content { font-size: 0.8125rem; }

/* Responsive */
@media (max-width: 768px) {
    .header { padding: 0.625rem 1rem; }
    .nav { width: 180px; }
    .main { margin-left: 180px; padding: 1rem; }
    .page-header { margin-bottom: 1rem; }
    .page-title { font-size: 1.125rem; }
    .kpi-grid { grid-template-columns: repeat(2, 1fr); gap: 0.75rem; }
    .kpi-card { padding: 0.875rem 1rem; }
    .kpi-value { font-size: 1.25rem; }
    .widget-grid { grid-template-columns: 1fr; }
    .form-row { grid-template-columns: 1fr; }
    .summary-box { padding: 0.75rem 1rem; gap: 1rem; font-size: 0.8125rem; }
    table { font-size: 0.8125rem; }
    th, td { padding: 0.625rem 0.75rem; }
    .modal-content { border-radius: 8px; }
    .search-row { flex-direction: column; }
    .search-input { min-width: 100%; }
}

@media (max-width: 480px) {
    .kpi-grid { grid-template-columns: 1fr; }
    .stepper { flex-direction: column; gap: 0.5rem; }
    .step::after { display: none; }
}

/* 견적 상태 변경 모달 전용 UI */
.status-pill-group {
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    column-gap: 0.5rem;
    row-gap: 0.5rem;
}
.status-pill-label {
    display: flex;
    align-items: stretch;
    cursor: pointer;
}
.status-pill-label input[type="radio"] {
    position: absolute;
    opacity: 0;
    pointer-events: none;
}
.status-pill {
    flex: 1;
    border-radius: 999px;
    border: none;
    padding: 0.4rem 0.75rem;
    font-size: 0.85rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.35rem;
    color: var(--gray-700);
    background: #fff;
    transition: all 0.15s ease;
    white-space: nowrap;
}
.status-pill-dot {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: var(--gray-300);
}
.status-pill-quote .status-pill-dot { background: #92400E; }
.status-pill-approved .status-pill-dot { background: #1E40AF; }
.status-pill-order .status-pill-dot { background: #065F46; }
.status-pill-complete .status-pill-dot { background: #6B7280; }
.status-pill-label input[type="radio"]:checked + .status-pill {
    font-weight: 600;
}
/* 견적 선택 시 */
.status-pill-label input[type="radio"][value="quote"]:checked + .status-pill.status-pill-quote {
    border-color: #92400E;
    background: rgba(254, 243, 199, 0.3);
    color: #92400E;
}
.status-pill-label input[type="radio"][value="quote"]:checked + .status-pill.status-pill-quote .status-pill-dot {
    box-shadow: 0 0 0 3px rgba(146, 64, 14, 0.2);
}
/* 수주 선택 시 */
.status-pill-label input[type="radio"][value="approved"]:checked + .status-pill.status-pill-approved {
    border-color: #1E40AF;
    background: rgba(219, 234, 254, 0.3);
    color: #1E40AF;
}
.status-pill-label input[type="radio"][value="approved"]:checked + .status-pill.status-pill-approved .status-pill-dot {
    box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.2);
}
/* 발주 선택 시 */
.status-pill-label input[type="radio"][value="order"]:checked + .status-pill.status-pill-order {
    border-color: #065F46;
    background: rgba(209, 250, 229, 0.3);
    color: #065F46;
}
.status-pill-label input[type="radio"][value="order"]:checked + .status-pill.status-pill-order .status-pill-dot {
    box-shadow: 0 0 0 3px rgba(6, 95, 70, 0.2);
}
/* 완료 선택 시 */
.status-pill-label input[type="radio"][value="complete"]:checked + .status-pill.status-pill-complete {
    border-color: #6B7280;
    background: rgba(243, 244, 246, 0.3);
    color: #6B7280;
}
.status-pill-label input[type="radio"][value="complete"]:checked + .status-pill.status-pill-complete .status-pill-dot {
    box-shadow: 0 0 0 3px rgba(107, 114, 128, 0.2);
}
.status-help-text {
    font-size: 0.8rem;
    color: var(--gray-500);
    margin-top: 0.25rem;
}
